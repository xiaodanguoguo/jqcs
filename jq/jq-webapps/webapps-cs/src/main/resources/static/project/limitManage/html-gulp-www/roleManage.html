<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>酒钢客户服务平台</title>
	<link rel="icon" href   ="../../../logocon.png">
	<link rel="stylesheet" href="../../../base/css/baseBlue.css">
	<link rel="stylesheet" href="../../../base/iconfont/iconfont.css">
	<link rel="stylesheet" href="../../commonNav/css/commonHeaderBlue.css">
	<script src="../../../base/js/jquery.js"></script>
	<script src="../../../base/js/public.js"></script>
	<script src="../../../base/js/docassistant.js" ></script>
	<script src="../../../base/js/validate.js"></script>
	<script src="../../../base/js/jquery.media.js"></script>
	<script src="../../../base/js/jquery.cookie.js"></script>
	<script src='../../../titleName.js'></script>
	<script src="../../../reqConfig.js"></script>
	<!--！！！！！！
		组件js
	！！！！！！！-->
	<script type="text/javascript" src="../../../base/js/ajaxupload.js"></script>
	<!--时间插件-->
	<link rel="stylesheet" href="../../../plugin/WdatePickerBlue/My97DatePicker/skin/messageWdatePicker.css">
	<script src="../../../plugin/WdatePickerBlue/My97DatePicker/WdatePicker.js"></script>
	<!--弹框插件-->
	<link rel="stylesheet" href="../../../plugin/popup/css/manhuaDialog.1.0_blue.css">
	<script src="../../../plugin/popup/script/manhuaDialog.1.0.js"></script>
	<!--提示校验-->
	<link rel="stylesheet" href="../../../plugin/tip/css/tip-twitter/tip-twitter.css">
	<script src="../../../plugin/tip/script/jquery.poshytip.js"></script>
	<!--滑动校验-->
	<link rel="stylesheet" href="../../../plugin/dragValidate/css/drag.css">
	<script src="../../../plugin/dragValidate/js/drag.js"></script>
	<!--分页-->
	<link rel="stylesheet" href="../../../plugin/page/css/table.css">
	<script type="text/javascript" src="../../../plugin/page/script/jquery.page.js"></script>
	<!--下拉选择-->
	<link rel="stylesheet" href="../../../plugin/select/chosen_blue.css">
	<script src="../../../plugin/select/chosen.jquery.js"></script>
	<script>


        //在页面未加载完毕之前显示的loading Html自定义内容

        var _LoadingHtml = '<span id="loadingDiv" style="width:100%;height: '+ (document.documentElement.clientHeight  + 200) +'px;display: block;background: #fff;text-align: center;line-height: '+ (document.documentElement.clientHeight  + 200) +';">页面加载中，请等待...</span>';

        //呈现loading效果

        document.write(_LoadingHtml);

        //监听加载状态改变
        document.onreadystatechange = completeLoading;

        //加载状态为complete时移除loading效果
        function completeLoading() {
            if (document.readyState == "complete") {
                var loadingMask = document.getElementById('loadingDiv');
                loadingMask.parentNode.removeChild(loadingMask);
            }
        }





        var date_start;
        var i=0;
		$(function(){
            $("#userName").html(unescape(getCookie("userName")));
            $(".og-head-mainlt__sidebar .og-head-mainlt__sasety").removeClass("og-head-mainlt__sidebar--shrinkActive");
            if(unescape(getCookie("navListIdx"))){
                $(".og-head-mainlt__sasety").each(function () {
					if(unescape(getCookie("navListIdx")) == $(this).val()){
					    $(this).addClass("og-head-mainlt__sidebar--shrinkActive")
					}
                });
                //$(".og-head-mainlt__sasety").eq(unescape(getCookie("navListIdx"))).addClass("og-head-mainlt__sidebar--shrinkActive");
            }
		    //导航的点击
		    $(".og-head-navlist li a").on("click",function(){
                $(".og-head-navlist li a").removeClass("og-head-navlist____linkActive");
		        $(this).addClass("og-head-navlist____linkActive")
                $(".og-head-mainlt__sidebar").css("display","none");
		        $(".og-head-mainlt__sidebar").eq($(this).parents(".og-head-navlist__item").index()).css("display","")
			})
			//左侧的点击事件
			$("#js-leftNavBar .og-head-mainlt__sasety").on("click",function(){
                $(".og-head-mainlt__sidebar .og-head-mainlt__sasety").removeClass("og-head-mainlt__sidebar--shrinkActive");
			    $(this).addClass("og-head-mainlt__sidebar--shrinkActive");
			    setCookie("navListIdx",escape($(this).val()));
			    window.location.href=$(this).find("a").attr("acSrc")
				//$(this).parents(".og-head-mainlt__sidebar--menu").find("ul").css("display","");
			})
            //点击退出
            $("#quitBtn").on("click",function(){
                getAjaxResult("/acct/remSession","post",{},"quitFun(data)");

            })
			$("#editPassword").on("click",function(){
			    jumpUrl("../../login/html-gulp-www/passwordNew.html","0000000",0);
			});
            $("#logo").on("click",function () {
                clearCookie("navListIdx");
                jumpUrl("../../homePage/html-gulp-www/homePage.html","0000000",0)
            });
            $("#downLoadShouCe").on("click",function(){
                var importParam = "name=";
                $.download(requestUrl + "/millsheet/downOperationManual", importParam, "POST");
			});
            start();
            //赋值内容主体高度，显示footer
			if($("#js-leftNavBar").height() > $("#js-loader").height()){
			    $(".og-head-main").css("height",$("#js-leftNavBar").height()+"px");
			}else{
                $(".og-head-main").css("height",$("#js-loader").height()+"px");
			}
			//在线人数
			getAjaxResult("/acct/getLoginCount","POST",{},"personNumCallBack(data)");
		})

		function personNumCallBack(data) {
			data = JSON.parse(data);
			if(data.retCode == "0000000"){
			    if(data.rspBody){
			    	$("#personNum").html(data.rspBody);
				}
			};
        }
        //退出接口
        function quitFun(data){
            var jsData=JSON.parse(data);
            if(jsData.retCode=="0000000"){
                clearCookie("userName");
                clearCookie("navListIdx");
                clearCookie("isLogin")
                if(window.Storage && window.localStorage && window.localStorage instanceof Storage){
                    window.localStorage.limitCode = [];
                }else{
                    setCookie("limitCode",escape(JSON.stringify([])));
                }
                jumpUrl("../../../login.html","0000000",0);
            }else{
                alert(jsData.retDesc)
            }
        }
        function start(){
            date_start=new Date();  //开始时间
            start_time();
        }
        function start_time(){

            set= window.setTimeout("start_time()", 1000);
            var date_end= new Date(); //结束时间
            var date_sum = date_end.getTime() - new Date(date_start).getTime(); //结束时间-开始时间
            //天数
            var days=Math.floor(date_sum/(24*60*60*1000))
            //小时数
            var day_ms=date_sum%(24*60*60*1000)    //计算天数后剩余的毫秒数
            var hours=Math.floor(day_ms/(60*60*1000))
            //分钟数
            var day_hour=day_ms%(60*60*1000)        //计算小时数后剩余的毫秒数
            var minutes=Math.floor(day_hour/(60*1000))
            //秒数
            var day_min=day_hour%(60*1000)      //计算分钟数后剩余的毫秒数
            var seconds=Math.round(day_min/1000)
            //getMonth 方法返回一个0到11之间的整数，是Date对象中的月份值，并不是现实中的月份值，要加+1才是。
            //开始运行时间
            document.getElementById("now_time").innerHTML=
                ""+date_end.getFullYear()+"年"
                +(date_end.getMonth()+1)+"月"+date_end.getDate()+"日"
                +date_end.getHours()+"时"+date_end.getMinutes()+"分"
                +date_end.getSeconds()+"秒"
		}
	</script>
</head>
<body style="position: relative;">
	<div class="og-head">
		<div class="og-head-nav">
	        <div class="og-head-navwrap">
	            <div class="og-head-navlogo" id="logo">
	                <a href="javascript:;" class="og-head-navlogo__logoimg"></a>
	            </div>
				<div class="og-head-navwrap-opeBox clearfix fr">
					<!--
					<span class="og-head-navwrap-opeBoxList">
						<div class="og-head-navwrap-opeBoxListImg fl" style="background-image: url('../images/4.png')"></div>
						<span class="fl">公告</span>
					</span>
					<span class="og-head-navwrap-opeBoxList">
						<div class="og-head-navwrap-opeBoxListImg fl" style="background-image: url('../images/3.png')"></div>
						<span class="fl">代办</span>
					</span>-->
					<span class="og-head-navwrap-opeBoxList" id="downLoadShouCe" style="cursor: pointer">
						<div class="og-head-navwrap-opeBoxListImg fl" style="background-image: url('../../commonNav/images/xiazia.png')"></div>
						<span class="fl">下载手册</span>
					</span>
					<span class="og-head-navwrap-opeBoxList" id="quitBtn" style="cursor: pointer">
						<div class="og-head-navwrap-opeBoxListImg fl" style="background-image: url('../../commonNav/images/tc.png')"></div>
						<span  class="fl">退出</span>
					</span>
					<span class="og-head-navwrap-opeBoxList" id="editPassword" style="cursor: pointer">
						<div class="og-head-navwrap-opeBoxListImg fl" style="background-image: url('../../commonNav/images/xgmm.png')"></div>
						<span class="fl">修改密码</span>
					</span>
				</div>
	            <div class="og-head-navwrap-box clearfix fr">
					<span class="og-head-navwrap-boxList" style="width: 270px!important;">您好，<span id="userName"></span></span>

					<span class="fl" style="margin-left: 0px;">在线人数：
						<span id="personNum">0</span>人
					</span>
					<p id="now_time" class="og-head-navwrap-boxList" style="width: 220px;"></p>
				</div>
	        </div>
	    </div>
	   	<div class="og-head-main clearfix">
	    	<div class="og-head-mainlt og-head-mainlt__homepaActive" id="js-leftNavBar">
	    		<!--<div class="og-head-mainlt__homepa">
	    			权限管理
	    		</div>-->
	    		<ul class="og-head-mainlt__sidebar">
	    			<li class="og-head-mainlt__sidebar--menu" limitCode="M5">
	    				<a class="og-head-mainlt__sidebar--shrink " href="javascript:;"><i class="arrow-up"></i><span class="arrow-span">系统管理</span></a>
						<ul class="menu-ul">
							<li class="og-head-mainlt__sasety" limitCode="M505" value="0"><a href="javascript:;" href="javascript:;" acSrc="../../limitManage/html-gulp-www/accountAudit.html">账号审核</a></li>
							<li class="og-head-mainlt__sasety" limitCode="M501" value="1"><a href="javascript:;" href="javascript:;" acSrc="../../limitManage/html-gulp-www/orgFrame.html">组织管理</a></li>
							<li class="og-head-mainlt__sasety" limitCode="M503" value="2"><a href="javascript:;" href="javascript:;" acSrc="../../limitManage/html-gulp-www/roleManage.html">角色管理</a></li>
							<li class="og-head-mainlt__sasety" limitCode="M504" value="3"><a href="javascript:;" href="javascript:;" acSrc="../../limitManage/html-gulp-www/resourceManage.html">资源管理</a></li>
							<li class="og-head-mainlt__sasety" limitCode="M502" value="4"><a href="javascript:;" href="javascript:;" acSrc="../../limitManage/html-gulp-www/userManage.html">人员管理</a></li>
							<li class="og-head-mainlt__sasety" limitCode="M506" value="21"><a href="javascript:;" href="javascript:;" acSrc="../../limitManage/html-gulp-www/userAnalyse.html">用户行为分析</a></li>
							<li class="og-head-mainlt__sasety" limitCode="M104" value="5"><a href="javascript:;" href="javascript:;" acSrc="../../limitManage/html-gulp-www/annListPreserve.html">发布公告</a></li>
						</ul>
	    			</li>
					<li class="og-head-mainlt__sidebar--menu" limitCode="M2">
						<a class="og-head-mainlt__sidebar--shrink " href="javascript:;"><i class="arrow-up"></i><span class="arrow-span">质量证明书</span></a>
						<ul class="menu-ul">
							<li class="og-head-mainlt__sasety" limitCode="M201" value="6"><a href="javascript:;" href="javascript:;" acSrc="../../quality/html-gulp-www/checkTrue.html">防伪验真</a></li>
							<li class="og-head-mainlt__sasety" limitCode="M202" value="7"><a href="javascript:;" href="javascript:;" acSrc="../../quality/html-gulp-www/qualityBookList.html">质证书管理</a></li>
							<li class="og-head-mainlt__sasety" limitCode="M204" value="19"><a href="javascript:;" href="javascript:;" acSrc="../../quality/html-gulp-www/qualityBookList2.html">质证书管理(酒钢)</a></li>
							<!--<li class="og-head-mainlt__sasety" limitCode="M203" value="8"><a href="javascript:;" href="javascript:;" acSrc="../../quality/html-gulp-www/applyBack.html">申请回退</a></li>-->
						</ul>
					</li>
					<li class="og-head-mainlt__sidebar--menu"  limitCode="M3">
						<a class="og-head-mainlt__sidebar--shrink " href="javascript:;"><i class="arrow-up"></i><span class="arrow-span">产品诉赔</span></a>
						<ul class="menu-ul">
							<li class="og-head-mainlt__sasety" limitCode="M301" value="9"><a href="javascript:;" href="javascript:;" acSrc="../../appealCompensate/html-gulp-www/personManage.html">管理联系信息</a></li>
							<li class="og-head-mainlt__sasety" limitCode="M302" value="10"><a href="javascript:;" href="javascript:;" acSrc="../../appealCompensate/html-gulp-www/objectionSubmit.html">异议提报</a></li>
							<li class="og-head-mainlt__sasety" limitCode="M303" value="11"><a href="javascript:;" href="javascript:;" acSrc="../../appealCompensate/html-gulp-www/objectionReasearch.html">异议调查</a></li>
							<li class="og-head-mainlt__sasety" limitCode="M304" value="12"><a href="javascript:;" href="javascript:;" acSrc="../../appealCompensate/html-gulp-www/objectionDeal.html">异议处理</a></li>
							<li class="og-head-mainlt__sasety" limitCode="M305" value="13"><a href="javascript:;" href="javascript:;" acSrc="../../appealCompensate/html-gulp-www/objectionFinish.html">异议结案</a></li>
							<li class="og-head-mainlt__sasety" limitCode="M306" value="20"><a href="javascript:;" href="javascript:;" acSrc="../../appealCompensate/html-gulp-www/objectionStatic.html">质量异议统计台账</a></li>
						</ul>
					</li>
					<li class="og-head-mainlt__sidebar--menu" limitCode="M1">
						<a class="og-head-mainlt__sidebar--shrink " href="javascript:;"><i class="arrow-up"></i><span class="arrow-span">问卷调查</span></a>
						<ul class="menu-ul">
							<li class="og-head-mainlt__sasety" limitCode="M101" value="14"><a href="javascript:;" href="javascript:;" acSrc="../../myBussiness/html-gulp-www/questionList.html">创建调查问卷</a></li>
							<li class="og-head-mainlt__sasety" limitCode="M103" value="15"><a href="javascript:;" href="javascript:;" acSrc="../../myBussiness/html-gulp-www/questionStatic.html">问卷调查统计</a></li>
							<li class="og-head-mainlt__sasety" limitCode="M102" value="16"><a href="javascript:;" href="javascript:;" acSrc="../../myBussiness/html-gulp-www/questionWrite.html">请填写调查问卷</a></li>
						</ul>
					</li>
					<li class="og-head-mainlt__sidebar--menu"  limitCode="M4">
						<a class="og-head-mainlt__sidebar--shrink " href="javascript:;"><i class="arrow-up"></i><span class="arrow-span">产品推荐</span></a>
						<ul class="menu-ul">
							<li class="og-head-mainlt__sasety" limitCode="M401" value="17"><a href="javascript:;" href="javascript:;" acSrc="../../recommond/html-gulp-www/productNewsList.html">产品推荐信息维护</a></li>
							<li class="og-head-mainlt__sasety" limitCode="M402"  value="18"><a href="javascript:;" href="javascript:;" acSrc="../../recommond/html-gulp-www/proTypeList.html">产品展示</a></li>
							<!--<li class="og-head-mainlt__sasety" limitCode=""><a href="javascript:;" href="javascript:;" acSrc="../../recommond/html-gulp-www/productNewsList.html">按用途分类</a></li>-->
						</ul>
					</li>
	    		</ul>
	    	</div>
	    	<div id="js-loader" class="og-head-maincontent">

<span id="hiddenSpan" style="display:none">0,0,1</span>
    <title>角色管理</title>
    <link rel="stylesheet" href="../css/resourchAd.css">
    <link rel="stylesheet" href="../css/useManage.css">
    <link rel="stylesheet" href="../../../plugin/treeview/jquery.treeview.css"/>
    <link rel="stylesheet" href="../../../plugin/treeview/screen.css" />
    <script src="../../../plugin/treeview/lib/jquery.cookie.js" type="text/javascript"></script>
    <script src="../../../plugin/treeview/jquery.treeview.js" type="text/javascript"></script>
    <script src="../js/permissionManage.js"></script>
    <style>
        #creatRule1{
            color: #6390f3!important;
        }
        #creatRules1{
            color: #6390f3!important;
        }
        #orgTypeBox .chosen-container{
             margin-left: 0;
         }
    </style>
    <script>
        var roleTypeA = "";
        //var globalFunctionId = "";
        var globalRuleOrRulesId = {}
        var orgId = GetQueryString("orgId");//组织id
        var orgName = decodeURI(GetQueryString("orgName"));//组织名称====中文转义
        $(function(){
            $("#orgType").chosen({
                no_results_text: "暂无结果",
                width: "157PX",
                enable_split_word_search: false,
                placeholder_text_single: ""
            });
            //$("#condstatus").trigger('chosen:updated');
            $("#orgType").attr("initValue","").trigger('chosen:updated');
            limitCodeDeal($("*[limitCode]"),"limitCode");
            
            /***************************选择组织开始*************************/
            // $("#chooseZzBtn").click(function(){
            //     getAjaxResult("/orgInfo/getListRecursionOrgInfo","POST",{"id":"101"},"initZz(data)");
            // })
            // if(!orgId){//弹出选择组织框
            //     getAjaxResult("/orgInfo/getListRecursionOrgInfo","POST",{"id":"101"},"initZz(data)")
            // }else{//显示当前用户下挂载的组织信息

            //     //初始化加载domtree
            //     initTree(orgId);
            // }
            if(orgId){
                getAjaxResult("/orgInfo/getChildTreeOrgInfo","POST",{"parentId":orgId},"initZz(data)")
            }else{
                orgId = $.cookie("orgId")
                //if(orgId.length == 11)$("#chooseZzBtn").hide();
                getAjaxResult("/orgInfo/getChildTreeOrgInfo","POST",{"parentId":orgId},"initZz(data)")
            }

            $("#czSureBtn").click(function(){//选择组织确认按钮
                // if(!$("#looptree2 a").hasClass("domTreeActive")){//未选择组织

                // }
                //初始化加载domtree
                initTree(orgId);
                closePopupWin();
            });
            $("#czCancelBtn").click(function(){//取消
                closePopupWin();
            });
            /***************************选择组织结束*************************/




            //root
            $("#root").click(function(){
                $(".resourceAd-con-left a").removeClass("domTreeActive");
                $(this).addClass("domTreeActive");

                $("#detailRow").hide();
                $("#detailRow1").hide();

                $("#createNewRule").show();//新建角色按钮
                $("#createNewRules").show();//新建分类按钮

                $("#deleteRuleOrRules").hide();//删除按钮
                $("#editRuleOrRules").hide();//编辑按钮

                $("#detailRow")[0].data = null;//清空角色详情dom绑定的数据
                $("#detailRow1")[0].data = null;//清空分类详情dom绑定的数据
            });
            $("#root").click();

            /************************新建角色开始***************************/
            $("#createNewRule").click(function(){
                $("#creatRule").show();
                $("#creatRuleEdit").hide();

                initFlVal($("#resourchSe #roleGroupTitle")[0],$("#detailRow1")[0].data);//回显选择分类
                

                openWin(400, 300, "resourchSe", true);
                $("#resourchSe h2").html("新建角色");
                //setValue4Desc($("#detailRow")[0].data, $("#resourchSe")[0]);
                setValueGlobal($("#detailRow1")[0].data, $("#resourchSe")[0])
                $("#resourchSe #roleTitle").val("");

                //复现初始化组织信息
                //showOrganization($("#detailRow")[0].data);

                if(getCookie("acctType") == 0){//超级管理员
                    $("#orgTypeBox").show();
                }
            });
            $("#creatRule").click(function(){
                initValidate($("#resourchSe")[0]);
                var obj = new clsValidateCtrl(); 
                //var data = $("#detailRow")[0].data; 
                if(obj.validateAll()){
                    if($("#resourchSe #status").prop("checked")){
                        var status = 1;
                    }else{
                        var status = 0;
                    }

                    if($("#detailRow1")[0].data){
                        var roleGroupId = $("#detailRow1")[0].data.roleGroupId;
                    }else{
                        var roleGroupId = "";
                    }
                    var reqParam = {"opt":"insert","roleTitle":$("#resourchSe #roleTitle").val(),"roleGroupId":roleGroupId,"orgId":orgId,"status":status,"roleCode":$("#resourchSe #roleCode").val()};
                    if(getCookie("acctType") == 0){//超级管理员需要加入roleType
                        reqParam.roleType = $("#orgType option:selected").val();
                    }
                    getAjaxResult("/roleInfo/InsertRoleInfo", "post", reqParam, 'delOrSavePermission(data)');
                }
            })
            $("#cancelRule").click(function(){
                closePopupWin();
            })
            //暂无数据时新建第一条角色
            $("#creatRule1").click(function(){
                $("#creatRule").show();
                $("#creatRuleEdit").hide();
                openWin(400, 300, "resourchSe", true);
                $("#resourchSe h2").html("新建角色");
                //setValue4Desc($("#detailRow")[0].data, $("#resourchSe")[0]);
                setValueGlobal($("#detailRow")[0].data, $("#resourchSe")[0])
            });
            /************************新建角色结束***************************/



            /***********************编辑角色,角色组开始****************************/
            $("#editRuleOrRules").click(function(){//编辑当前权限

                if($("#detailRow").css("display") == "block"){//角色

                    $("#creatRule").hide();
                    $("#creatRuleEdit").show();

                    openWin(400, 300, "resourchSe", true);
                    $("#resourchSe h2").html("编辑角色");
                    //setValue4Desc($("#detailRow")[0].data, $("#resourchSe")[0]);
                    setValueGlobal($("#detailRow")[0].data, $("#resourchSe")[0])
                    initFlVal($("#resourchSe #roleGroupTitle")[0],$("#detailRow")[0].data);

                    //复现初始化组织信息
                    //showOrganization($("#detailRow")[0].data);
                    if(getCookie("acctType") == 0){//超级管理员
                        $("#orgTypeBox").show();
                        $("#orgType option[value="+roleTypeA+"]").prop("selected",true).trigger('chosen:updated');
                        //$("#orgType").attr("initValue",roleTypeA).trigger('chosen:updated');
                    }


                }else if($("#detailRow1").css("display") == "block"){//角色组

                    $("#creatRules").hide();
                    $("#creatRulesEdit").show();
                    openWin(400, 200, "resourchFl", true);
                    $("#resourchFl h2").html("编辑角色组");
                    //setValue4Desc($("#detailRow1")[0].data, $("#resourchFl")[0]);
                    setValueGlobal($("#detailRow1")[0].data, $("#resourchFl")[0])

                    //复现初始化组织信息
                    //showOrganization($("#detailRow1")[0].data);
                }
            });
            
            $("#cancelRuleOrRules").click(function(){//取消角色修改
                closePopupWin()
            })
            $("#creatRuleEdit").click(function(){//保存编辑角色
                var data = $("#detailRow")[0].data;
                var reqParam = {};

                if($("#resourchSe #status").prop("checked")){
                    var status = 1;
                }else{
                    var status = 0;
                }
                if(data){
                    reqParam = {"opt":"update","roleGroupId":$("#detailRow")[0].data.roleGroupId,"orgId":orgId,"roleId":data.roleId,"roleTitle":$("#resourchSe #roleTitle").val(),"status":status,"roleCode":$("#resourchSe #roleCode").val()}
                    if(getCookie("acctType") == 0){//超级管理员需要加入roleType
                        reqParam.roleType = $("#orgType option:selected").val();
                    }
                };


                initValidate($("#resourchSe1")[0]);
                var obj = new clsValidateCtrl();  
                if(obj.validateAll()){
                    getAjaxResult("/roleInfo/keepRoleInfo", "post", reqParam, 'delOrSavePermission(data)');
                }
            })


            $("#creatRulesEdit").click(function(){//保存编辑角色组
                initValidate($("#resourchFl")[0]);
                var obj = new clsValidateCtrl(); 
                //var data = $("#detailRow")[0].data; 
                if(obj.validateAll()){
                    if($("#resourchFl #status").prop("checked")){
                        var status = 1;
                    }else{
                        var status = 0;
                    }
                    var reqParam = {"opt":"update","roleGroupTitle":$("#resourchFl #roleGroupTitle").val(),"orgId":orgId,"roleGroupId":$("#detailRow1")[0].data.roleGroupId,"status":status};
                    getAjaxResult("/roleGroup/keepRoleGroup", "post", reqParam, 'delOrSavePermission(data)');
                }
            })
            /***********************编辑角色,角色组结束****************************/


            /************************新建分类开始***************************/
            $("#createNewRules").click(function(){
                $("#creatRules").show();
                $("#creatRulesEdit").hide();
                openWin(400, 200, "resourchFl", true);
                $("#resourchFl h2").html("新建分类");
                $("#resourchSe #roleGroupTitle").val("");
                //setValue4Desc($("#detailRow")[0].data, $("#resourchFl")[0]);

                //复现初始化组织信息
                //showOrganization($("#detailRow1")[0].data);
            });
            $("#creatRules").click(function(){
                initValidate($("#resourchFl")[0]);
                var obj = new clsValidateCtrl(); 
                //var data = $("#detailRow")[0].data;
                if(obj.validateAll()){
                    if($("#resourchFl #status").prop("checked")){
                        var status = 1;
                    }else{
                        var status = 0;
                    }
                    if($("#detailRow1")[0].data){
                        var parentApplicationId = $("#detailRow1")[0].data.roleGroupId;
                    }else{
                        var parentApplicationId = "";
                    }
                    var reqParam = {"opt":"insert","roleGroupTitle":$("#resourchFl #roleGroupTitle").val(),"orgId":orgId,"status":status,"parentApplicationId":parentApplicationId};
                    getAjaxResult("/roleGroup/InsertRoleGroup", "post", reqParam, 'delOrSavePermission(data)');
                }
            })
            $("#cancelRules").click(function(){
                closePopupWin();
            })

            //暂无数据时新建第一条分类
            $("#creatRules1").click(function(){
                $("#creatRules").show();
                $("#creatRulesEdit").hide();
                openWin(400, 200, "resourchFl", true);
                $("#resourchFl h2").html("新建分类");
                //setValue4Desc($("#detailRow1")[0].data, $("#resourchFl")[0]);
                setValueGlobal($("#detailRow1")[0].data, $("#resourchFl")[0])
            });
            /************************新建分类结束***************************/





            /*************************给角色分配权限开始***************************/
            $("#checkRole").click(function(){

                var reaParam = {"orgId":orgId,"roleId":$("#detailRow")[0].data.roleId};
                openWin(400, 580, "resourchSeSet", true);


                initTree1();
            })
            //保存修改
            $("#saveRoleResource").click(function(){
                var reqParam = {"functionIds":"","roleId":$("#detailRow")[0].data.roleId};
                for(var i=0;i<$("#looptree1 li").length; i++){
                    if($("#looptree1 li").eq(i).find("input").prop("checked") == 1){
                        if(reqParam.functionIds == ""){
                            reqParam.functionIds = $("#looptree1 li").eq(i)[0].data.functionId;
                        }else{
                            reqParam.functionIds += "," + $("#looptree1 li").eq(i)[0].data.functionId;
                        }
                    }
                }
                getAjaxResult("/acctOperPrivRela/addAcctOperPrivRela", "post", reqParam, 'delOrSavePermission(data)');
            });
            //取消修改
            $("#cancelRoleResource").click(function(){
                closePopupWin();
            });
                
            /*************************给角色分配权限结束***************************/


            /**************************启用角色、角色组开始*****************************/
            $("#detailRow #status").click(function(){//角色
                if($("#detailRow #status").prop("checked")){
                    var status = 1;
                }else{
                    var status = 0;
                }
                reqParam = {"opt":"update","roleId":$("#detailRow")[0].data.roleId,"status":status,"IsStatus":1}
                getAjaxResult("/roleInfo/keepRoleInfo", "post", reqParam, 'delOrSavePermission(data)');

            })
            $("#detailRow1 #status").click(function(){//角色组
                if($("#detailRow1 #status").prop("checked")){
                    var status = 1;
                }else{
                    var status = 0;
                }
                reqParam = {"opt":"update","roleGroupId":$("#detailRow1")[0].data.roleGroupId,"status":status,"IsStatus":1}
                getAjaxResult("/roleGroup/keepRoleGroup", "post", reqParam, 'delOrSavePermission(data)');
            })
            /**************************启用角色、角色组结束*****************************/

            $("#deleteRuleOrRules").click(function(){


                var reqParam = {};
                //删除前请请求接口返回删除内容提示
                if($("#detailRow").css("display") == "block"){//角色
                    var data = $("#detailRow")[0].data;
                    reqParam = {"opt":"delete","roleId":data.roleId}
                    getAjaxResult("/roleInfo/verificationDeleteRoelInfo", "post", reqParam, 'deleteWarn(data)');
                }else if($("#detailRow1").css("display") == "block"){//角色组=分类
                    var data = $("#detailRow1")[0].data;
                   
                    reqParam = {"opt":"delete","roleGroupId":data.roleGroupId}
                    getAjaxResult("/roleGroup/verificationDeleteRoleGroup", "post", reqParam, 'deleteWarn(data)');
                };


            })

        });
        function initZz(data){
            if(JSON.parse(data).retCode == "0000000"){
                data = JSON.parse(data).rspBody.children;
                if(data.length == 0){
                    orgId = $.cookie("orgId");
                }else{
                    orgId = data[0].id;
                }
                // if((data.length>0 && data[0].children.length>0)||(data.length>1)){
                //     $("#chooseZz").show();
                //     var a = new treeCheck();
                //     a.loopLoad({"data":data, "parentDom":$("#looptree2"),"parentId":"looptree2","showName":"orgName"});
                //     $("#looptree2").treeview();
                //     openWin(400, 400, "chooseZz", true);

                // }else{
                //     initTree(orgId);
                // }

                initTree(orgId);
                $("#chooseZzBtn").click(function(){
                    $("#chooseZz").show();
                    var a = new treeCheck();
                    a.loopLoad({
                        "data":data,
                        "parentDom":$("#looptree2"),
                        "parentId":"looptree2",
                        "showName":"orgName"
                    });
                    $("#looptree2").treeview();
                    openWin(400, 380, "chooseZz", true);

                })

                $("#looptree2").on("click",".cloneTreeA",function(){

                    $("#looptree2 a").removeClass("domTreeActive");
                    $(this).addClass("domTreeActive");

                    orgId = $(this).parent()[0].data.id;
                    orgName = $(this).parent()[0].data.orgName;

                });
            }

        }
        function deleteWarn(data){
            data = JSON.parse(data);
            var a = new clsAlertBoxCtrl();
            a.Alert(data.rspBody,"删除提示",true);
            if(data.rspBody == "是否删除"){
                $("#alertBoxWin .btnOne").show();
            }else{
                $("#alertBoxWin .btnOne").hide();
            }
        }
        //点击确认执行的方法
        function clsAlertBoxCtrl$sure() {//删除
            if(this.html.indexOf("删除提示") !=-1){
                var reqParam = {};
                if($("#detailRow").css("display") == "block"){//角色
                    var data = $("#detailRow")[0].data;
                    reqParam = {"opt":"delete","roleId":data.roleId}
                    getAjaxResult("/roleInfo/DeleteRoleInfo", "post", reqParam, 'delOrSavePermission(data)');
                }else if($("#detailRow1").css("display") == "block"){//角色组=分类
                    var data = $("#detailRow1")[0].data;
                   
                    reqParam = {"opt":"delete","roleGroupId":data.roleGroupId}
                    getAjaxResult("/roleGroup/DeleteRoleGroup", "post", reqParam, 'delOrSavePermission(data)');
                };
            }


        }

        function initFlVal(dom,data){//$("#resourchSe #roleGroupId")[0]
            
            if(data){
                // dom.setAttribute("initValue",data.roleGroupId) 
                // document.body.jsCtrl.ctrl = dom;
                // document.body.jsCtrl.init();

                dom.innerHTML = data.roleGroupTitle;
            }else{
                dom.innerHTML = "/";
            }
        }

        function initTree(orgId){//查询角色信息
            if(orgId){
                orgId = orgId;
            }else{
                orgId = "";
            }
            getAjaxResult("/roleInfo/roleInfoTree", "post", {"orgIdAll":orgId}, 'initTreeList(data,"looptree")');
        }
        function initTree1(){//查询角色权限信息
            var data = $("#detailRow")[0].data;
            getAjaxResult("/functionManage/functionManageRoleList", "post", {"orgId":data.orgId,"roleId":data.roleId}, 'initTreeList(data,"looptree1",true)');
        }
        function setValue4DescProcess(jsonItem, key,jsonData) {

            if(jsonItem[key] == "" || jsonItem[key] == null){
                jsonItem[key] == "--"
            }
            if(key == "status"){
                if(jsonItem[key]){
                    $("#resourchSe input").prop("checked",true)
                }else{
                    $("#resourchSe input").prop("checked",false)
                }
            }
        }

        function setValueGlobal(jsonItem,dom){
            for(var key in jsonItem){
                var ctrl = $(dom).find("#"+key)[0];
                if(ctrl){
                    switch(ctrl.tagName.toLowerCase()){
                        case "input":
                            if (ctrl.type == "checkbox") {
                                if(jsonItem[key] == 1){
                                    $(ctrl).prop("checked",true)
                                }else{
                                    $(ctrl).prop("checked",false)
                                }
                            }else{
                                $(ctrl).val(jsonItem[key])
                            };
                            break;
                        default:
                            if(jsonItem[key] == "" || jsonItem[key] == null){
                                jsonItem[key] = "-"
                            }
                            if((key == "createdTime" || key == "updatedTime") && jsonItem[key] != "-" ){
                                jsonItem[key] = timestampToStr(jsonItem[key])
                            }
                            ctrl.innerHTML = jsonItem[key];

                    }
                }
            }
        }

        /************************删除角色/分类开始*****************************/
        function clsMessageBoxCtrl$after() {

            
            //GetId()//删除时候存储父级id;
            
            //删除的时候默认父级id选中
            //initTree();
        }   
        /************************删除角色/分类结束*****************************/




        function delOrSavePermission(data){
            data = JSON.parse(data)
            if(data.retCode != "0000000"){
                alert(data.retDesc);
                return;
            }
            if(data.rspBody.opt == "insert" || data.rspBody.opt == "update"){//新建//编辑

                if(data.rspBody.orRole == "角色"){
                    globalRuleOrRulesId.id = data.rspBody.roleId;
                    globalRuleOrRulesId.orRole = "角色";
                }else if(data.rspBody.orRole == "角色组"){
                    globalRuleOrRulesId.id = data.rspBody.roleGroupId;
                    globalRuleOrRulesId.orRole = "角色组";
                }

            }else if(data.rspBody.opt == "delete"){//删除

                globalRuleOrRulesId.id = data.rspBody.roleGroupId;
                if(data.rspBody.roleGroupId == null ){
                    globalRuleOrRulesId.orRole = "根目录";
                }else{
                    globalRuleOrRulesId.orRole = "角色组";
                }

            }
            if(data.retCode ==  "0000000"){
                initTree(orgId);//操作成功之后初始化tree树

                var oLi = $("#looptree #navigation li");
                var flag = false;
                for(var i=0;i<oLi.length;i++){//模拟点击

                    if(globalRuleOrRulesId.orRole == "角色"){
                        if(oLi.eq(i)[0].data.roleId == globalRuleOrRulesId.id){
                            flag = true;
                            oLi.eq(i).children(".cloneTreeA").click();
                        };
                    }else if(globalRuleOrRulesId.orRole == "角色组"){
                        if(oLi.eq(i)[0].data.roleGroupId == globalRuleOrRulesId.id){
                            flag = true;
                            oLi.eq(i).children(".cloneTreeA").click();
                        };
                    }else if(globalRuleOrRulesId.orRole == "根目录"){

                    }

                }
                if(!flag){
                    $("#root").click();
                }
            };
            setStatus("detailRow")
            setStatus("detailRow1")
            closePopupWin();
            var aa = new clsAlertBoxCtrl();
            aa.Alert(data.retDesc,"操作提示",false);
        }
        function setStatus(dom){
            if($("#"+dom)[0].data){
                if($("#" + dom + " #status").prop("checked")){

                    $("#"+dom)[0].data.status = 1;
                }else{
                    $("#"+dom)[0].data.status = 0;
                }
            }
        }
        function initTreeList(data,id,isNeedCheck) {//初始化加载权限tree
            //data 请求的数据, id 最外层id, idneedcheck是否有checkbox
                data = JSON.parse(data).rspBody.resultData;
                // var newData = {
                //     "children":[],
                //     "roleGroupTitle":"111"
                // };
                // newData.children.push(data);
                //data = newData;
                if(!isNeedCheck){

                    if(data.length == 0){//显示暂无数据
                        $(".resource").show();
                        $(".resourceAd").hide();
                        $("#detailRow")[0].data = null;
                        $("#detailRow1")[0].data = null;
                    }else{//显示domtree
                        $(".resource").hide();
                        $(".resourceAd").show();
                        var a = new treeCheck();
                        a.loopLoad({"data":data, "parentDom":$("#"+id), "isNeedCheck":isNeedCheck, "parentId":id});

                        $("#looptree .cloneTreeA").click(function(){
                            roleTypeA = $(this).parent("li")[0].data.roleType;
                            var parentData = $(this).parent("li")[0].data;

                            $(".resourceAd-con-left a").removeClass("domTreeActive");
                            $(this).addClass("domTreeActive");
                            $("#btnGather").children().hide();//按钮集合先隐藏

                            $("#detailRow").hide();//右侧信息详情显示
                            $("#detailRow1").hide();//右侧信息详情显示
                            if(parentData.orRole == "角色组"){
                                $("#detailRow1").show();//右侧信息详情显示
                            }else{
                                $("#detailRow").show();//右侧信息详情显示
                            }
                            if(parentData.orRole){//角色。分类
                                if(parentData.orRole == "角色"){//角色
                                    $("#editRuleOrRules").show();
                                    $("#deleteRuleOrRules").show();
                                }else{//分类
                                    $("#createNewRule").show();//新建角色按钮
                                    $("#createNewRules").show();//新建分类按钮
                                    $("#editRuleOrRules").show();
                                    $("#deleteRuleOrRules").show();
                                }
                                if(parentData.orRole == "角色组"){
                                    $("#detailRow1")[0].data = parentData;
                                }else{
                                    $("#detailRow")[0].data = parentData;
                                }
                            }
                            if(parentData.orRole == "角色组"){
                                //setValue4Desc($(this).parent("li")[0].data, $("#detailRow1")[0])
                                setValueGlobal($(this).parent("li")[0].data, $("#detailRow1")[0])
                            }else{
                               // setValue4Desc($(this).parent("li")[0].data, $("#detailRow")[0])
                               setValueGlobal($(this).parent("li")[0].data, $("#detailRow")[0])
                                if(Number($(this).parent("li")[0].data.roleCode) && getCookie("acctType") != 0){
                                    $("#checkRole").hide();
                                }else{
                                    $("#checkRole").show();

                                }
                            }
                         })

                        //$("#" + id + " #navigation").treeview();


                        // for(var i=0;i<$("#" + id + " #navigation li").length;i++){//模拟点击

                        //     if($("#" + id + " #navigation li").eq(i)[0].data.functionId == globalFunctionId){
                        //         $(".cloneTreeA").click();
                        //     };

                        // }
                    }
                }else{//角色权限

                        var aa = new treeCheck();
                        aa.loopLoad({"data":data, "parentDom":$("#"+id), "isNeedCheck":isNeedCheck, "parentId":id,"showName":"functionTitle"});
                        aa.unionChecked("input[type=checkbox]");
                       
                        //$("#" + id + " #navigation").treeview();
                }
                $("#" + id + " #navigation").treeview();
        }

    </script>
    
    <div class="resource" style="display:none">
        <div class="resource-div">
            <span>
                暂无角色、
            </span>
            <a href="javascript:;" id="creatRule1">
                添加角色
            </a>/
            <a href="javascript:;" id="creatRules1">
                添加分类
            </a>
        </div>
    </div>
    <div class="resourceAd" style="display:none">
        <!-- <div class="resourceAd-head">
            <input type="text" class="resourceAd-head-in"/>
            <a href="javascript:;" class="resourceAd-head-a">查询</a>
        </div> -->
        <div class="resourceAd-con">
            <div class="resourceAd-con-left">
                <div class="left-div">
                    <span class="left-div-fir">
                        <span class="fir-span">角色分类</span>
                        <a href="javascript:;" id="chooseZzBtn" limitCode="M50301">组织</a>
                    </span>
                    <a href="javascript:;" class="left-div-two" id="root">根目录</a>
                </div>

                <div id="looptree">
                </div>

            </div>
            <div class="resourceAd-con-right">
                <div class="right-head">
                    <ul class="right-head-ul" id="btnGather">
                        <!-- <a href="javascript:;" class="div-a-add" id="createNewRule" style="display:none"><i class="add-i"></i><span>新建角色</span></a>
                        <a href="javascript:;" class="div-a-add" id="createNewRules" style="display:none"><i class="add-i"></i><span>新建分类</span></a>
                        <a href="javascript:;" class="div-a-add" id="deleteRuleOrRules" style="display:none"><i class="add-i del-i"></i><span>删除</span></a>
                        <a href="javascript:;" class="div-a-add" id="editRuleOrRules" style="display:none"><i class="add-i com-i"></i><span>编辑</span></a> -->


                        <li id="createNewRule" style="display:none" limitCode="M50302"><i class="ul-iFir"></i><a href="javascript:;" class="ul-fir">新建角色</a></li>
                        <li id="createNewRules" style="display:none" limitCode="M50303"><i class="ul-iFir"></i><a href="javascript:;" class="ul-fir">新建分类</a></li>
                        <li id="editRuleOrRules" style="display:none" limitCode="M50304"><i class="ul-iTwo"></i><a href="javascript:;" class="ul-two">编辑</a></li>
                        <li id="deleteRuleOrRules" style="display:none" limitCode="M50305"><i class="ul-iThr"></i><a href="javascript:;" class="ul-tree">删除</a></li>
                    </ul>
                </div>
                <div class="right-con">
                    <!-- <div class="right-con-tit">
                        <span>权限列表</span>
                        <span>权限操作</span>
                    </div> -->
                    <div class="right-con-fot">

                        <ul id="detailRow" class="fot-ul" style="display:none">
                            <li class="fot-ul-img">
                                <img src="../images/roleP.png"><span>角色信息</span>
                            </li>
                            <li><span>角色名称：</span><span class="fot-ul-span" id="roleTitle"></span></li>
                            <li><span>角色id：</span><span class="fot-ul-span" id="roleId"></span></li>
                            <li><span>角色编码：</span><span class="fot-ul-span" id="roleCode"></span></li>
                            <li><span>角色类型名称：</span><span class="fot-ul-span" id="roleTypeTitle"></span></li>
                            <li><span>角色状态：</span><input type="checkbox" id="status"></li>
                            <li limitCode="M50306"><span>角色权限：</span><a href="javascript:;" id="checkRole">查看</a></li>
                            <li><span>创建人：</span><span class="fot-ul-span" id="createdBy"></span></li>
                            <li><span>创建时间：</span><span class="fot-ul-span" id="createdTime"></span></li>
                            <li><span>修改人：</span><span class="fot-ul-span" id="updatedBy"></span></li>
                            <li><span>修改时间：</span><span class="fot-ul-span" id="updatedTime"></span></li>
                            <li class="font-ul-explain"><span class="explain-span">说明:</span><span></span></li>
                        </ul>

                        <ul id="detailRow1" class="fot-ul" style="display:none">
                            <li class="fot-ul-img">
                                <img src="../images/roleP.png"><span>角色组信息</span>
                            </li>
                            <li><span>角色组名称：</span><span class="fot-ul-span" id="roleGroupTitle"></span></li>
                            <li><span>角色组id：</span><span class="fot-ul-span" id="roleGroupId"></span></li>
                            <!-- <li><span>角色组编码：</span><span class="fot-ul-span" id="roleGroupCode"></span></li> -->   
                            <!-- <li><span>角色组描述：</span><span class="fot-ul-span" id="roleGroupDesc"></span></li> -->
                            <li><span>创建人：</span><span class="fot-ul-span" id="createdBy"></span></li>
                            <li><span>创建时间：</span><span class="fot-ul-span" id="createdTime"></span></li>
                            <li><span>修改人：</span><span class="fot-ul-span" id="updatedBy"></span></li>
                            <li><span>修改时间：</span><span class="fot-ul-span" id="updatedTime"></span></li>
                            <!-- <li><span>角色组状态：</span><input type="checkbox" id="status" checked></li> -->
                            <li class="font-ul-explain"><span class="explain-span">说明:</span><span></span></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>


<!-- 新建/编辑角色-->
<div id="resourchSe" class="popup" style="display:none">
    <div class="title"><h2>新建角色</h2>
            <div>
                <a class="min" href="javascript:;" title="最小化" style="display:none;"></a>
                <a class="max" href="javascript:;" title="最大化" style="display:none;"></a>
                <a class="revert" href="javascript:;" title="还原" style="display:none;"></a>
                <a class="close" href="javascript:;" title="关闭"></a>
            </div>
    </div>
    <div class="content" style="height: 180px;">
        <div class="resourchSe" style="padding:0 30px;">
            <ul class="resourchSe-ul">
                <li><label>名称：</label><input type="text" class="required" id="roleTitle"/></li>
                <li><label>角色编码：</label><input type="text" class="" id="roleCode"/></li>
                <li id="orgTypeBox" style="display: none"><label>角色类型：</label><select type="text" class="" id="orgType" selCode="orgTypeCode" selValue="orgTypeName" style="width:157px">
                    <option value="">请选择</option>
                    <option value="1">销售公司</option>
                    <option value="2">一级代理</option>
                    <option value="3">贸易商</option>
                    <option value="4">终端客户</option>
                    <option value="5">酒钢机构</option>
                </select></li>
                <li style="position:relative;display:none"><label>选择组织：</label><!-- <input type="text" id="orgId"/> -->


                    <div type="text" class="userNewPopup-ulist-list-input" id="selectOrganization"></div>
                    <div class="userNewPopup-ulist-listPopup" id="selectOrganizationPopup" style="display: none;">
                        <div>
                            <ul class="userNewPopup-ulist-listBox" id="organizationList"  templateId="templateRow" reqPath="" reqParam="" method="POST">
                                <li class="userNewPopup-ulListBox-list" id="orgSelectDetail" style="height: auto;min-height: 30px;">
                                    当前组织：
                                    <span id="templateList" style="display: none;">
                                        <span id="orgNameShow"></span>
                                        <b id="orgNameShowDelete" class="userNewPopup-ulListBox-list-delete">X</b>
                                    </span>
                                </li>
                                <li class="userNewPopup-ulListBox-list" id="templateRow" style="display: none;"><span id="orgName"></span></li>
                                <li class="userNewPopup-ulListBox-list" id="orgSelectDetail">
                                    <div class="userNewPopup-ulListBox-list-btn" id="organizationSelectSure">确认</div>
                                </li>
                            </ul>
                        </div>
                    </div>

                </li>
                <li><label>所属分类：</label><!-- <select name="" id="roleGroupId" comtype="singleSelectCtrl" reqPath="/roleGroup/roleGroupAll" reqParam="{}" selValue="roleGroupTitle" selCode="roleGroupId"></select> -->
                    <span id="roleGroupTitle">/</span>
                </li>
                <!--<li><label>默认启用：</label><input type="checkbox" checked id="status"/></li>-->
            </ul>
            <!-- <div class="mod-search-div">
                <a href="javascript:;" class="mod-searchBtn ml20"><span>确定</span></a>
            </div> -->
        </div>
        <div class="btn">

            <a href="javascript:" class="btnOne btnStyle1 mr10" id="creatRule" style="display:none">确定</a>
            <a href="javascript:" class="btnOne btnStyle1 mr10" id="creatRuleEdit" style="display:none">确定</a>
            <a href="javascript:" class="btnSecond btnStyle1_1" id="cancelRule">取消</a>
        </div>
    </div>
</div>
<!-- 给角色重新分配权限角色-->
<div id="resourchSeSet" class="popup" style="display:none">
    <div class="title"><h2>查看角色</h2>
            <div>
                <a class="min" href="javascript:;" title="最小化" style="display:none;"></a>
                <a class="max" href="javascript:;" title="最大化" style="display:none;"></a>
                <a class="revert" href="javascript:;" title="还原" style="display:none;"></a>
                <a class="close" href="javascript:;" title="关闭"></a>
            </div>
    </div>
    <div class="content" style="height: 180px;">
        <!-- <div class="resourchSe" style="padding:0 30px;">
            <ul class="resourchSe-ul">
                <li><label>名称：</label><input type="text" class="required" id="functionTitle"/></li>
                <li><label>选择分类：</label><select name="" id="" comtype="singleSelectCtrl" reqPath="/roleGroup/roleGroupAll" reqParam="{}" selValue="roleGroupTitle" selCode="roleGroupId"></select></li>
                <li><label>选择组织：</label><input type="text" id="orgId"/></li>
                <li><label>默认启用：</label><input type="checkbox" checked id="status"/></li>
            </ul>
        </div> -->

        <div id="looptree1" style="height:480px;overflow:scroll"></div>
        <div class="btn">

            <a href="javascript:" class="btnOne btnStyle1 mr10" id="saveRoleResource">确定</a>
            <a href="javascript:" class="btnSecond btnStyle1_1" id="cancelRoleResource">取消</a>
        </div>
    </div>
</div>
<!-- 新增/编辑分类-->
<div id="resourchFl" class="popup" style="display:none">
    <div class="title"><h2>新增分类</h2>
            <div>
                <a class="min" href="javascript:;" title="最小化" style="display:none;"></a>
                <a class="max" href="javascript:;" title="最大化" style="display:none;"></a>
                <a class="revert" href="javascript:;" title="还原" style="display:none;"></a>
                <a class="close" href="javascript:;" title="关闭"></a>
            </div>
    </div>
    <div class="content" style="height: 180px;">
        <div class="resourchSe" style="padding:0 30px;">
            <ul class="resourchSe-ul">
                <li><label>名称：</label><input type="text" class="required" id="roleGroupTitle"/></li>
                <!-- <li style="position:relative"><label>选择组织：</label><input type="text" id="orgId"></li> -->
                <li style="position:relative;display:none"><label>选择组织：</label><!-- <input type="text" id="orgId"/> -->


                    <div type="text" class="userNewPopup-ulist-list-input" id="selectOrganization"></div>
                    <div class="userNewPopup-ulist-listPopup" id="selectOrganizationPopup" style="display: none;">
                        <div>
                            <ul class="userNewPopup-ulist-listBox" id="organizationList"  templateId="templateRow" reqPath="" reqParam="" method="POST">
                                <li class="userNewPopup-ulListBox-list" id="orgSelectDetail" style="height: auto;min-height: 30px;">
                                    当前组织：
                                    <span id="templateList" style="display: none;">
                                        <span id="orgNameShow"></span>
                                        <b id="orgNameShowDelete" class="userNewPopup-ulListBox-list-delete">X</b>
                                    </span>
                                </li>
                                <li class="userNewPopup-ulListBox-list" id="templateRow" style="display: none;"><span id="orgName"></span></li>
                                <li class="userNewPopup-ulListBox-list" id="orgSelectDetail">
                                    <div class="userNewPopup-ulListBox-list-btn" id="organizationSelectSure">确认</div>
                                </li>
                            </ul>
                        </div>
                    </div>

                </li>
                <!-- <li style="display:none"><label>是否启用：</label><input type="checkbox" id="status" checked/></li> -->
            </ul>
            <!-- <div class="mod-search-div">
                <a href="javascript:;" class="mod-searchBtn ml20"><span>确定</span></a>
            </div> -->
        </div>
        <div class="btn">

            <a href="javascript:" class="btnOne btnStyle1 mr10" id="creatRules" style="display:none">确定</a>
            <a href="javascript:" class="btnOne btnStyle1 mr10" id="creatRulesEdit" style="display:none">确定</a>
            <a href="javascript:" class="btnSecond btnStyle1_1" id="cancelRules">取消</a>
        </div>
    </div>
</div>

<!-- 删除角色/分类弹窗-->
<div id="resourchSe2" class="popup" style="display:none">
    <div class="title"><h2>删除角色</h2>
            <div>
                <a class="min" href="javascript:;" title="最小化" style="display:none;"></a>
                <a class="max" href="javascript:;" title="最大化" style="display:none;"></a>
                <a class="revert" href="javascript:;" title="还原" style="display:none;"></a>
                <a class="close" href="javascript:;" title="关闭"></a>
            </div>
    </div>
    <div class="content" style="height: 180px;">
        <div>
            确认删除该角色！
        </div>
        <div class="btn">
            <a href="javascript:" class="btnOne btnStyle1 mr10" id="deleteBtn">确定</a>
            <a href="javascript:" class="btnSecond btnStyle1_1" id="cancelDelBtn">取消</a>
        </div>
    </div>
</div>
<!-- 选择组织弹窗-->
<div id="chooseZz" class="popup" style="display:none">
    <div class="title"><h2>选择组织</h2>
            <div>
                <a class="min" href="javascript:;" title="最小化" style="display:none;"></a>
                <a class="max" href="javascript:;" title="最大化" style="display:none;"></a>
                <a class="revert" href="javascript:;" title="还原" style="display:none;"></a>
                <a class="close" href="javascript:;" title="关闭"></a>
            </div>
    </div>
    <div class="content">
        <div id="looptree2" style="height:280px;overflow:scroll">
            
        </div>
        <div class="btn">
            <!-- <p class="tl"><span style="color:red">*</span>如果不选择组织，将直接显示该用户默认关联的组织下数据</p> -->
            <a href="javascript:" class="btnOne btnStyle1 mr10" id="czSureBtn">确定</a>
            <a href="javascript:" class="btnSecond btnStyle1 mr10" id="czCancelBtn">取消</a>
        </div>
    </div>
</div>

<!-- 
<div class="resourceSet" style="display:none">
    <ul class="resourceSet-ul">
        <li><span>有效时间：</span><span>2018年1月1日</span></li>
        <li><span>有效时间：</span><span>2018年1月1日</span></li>
        <li><span>有效时间：</span><span>2018年1月1日</span></li>

    </ul>
    <div class="mod-search-div">
        <a href="javascript:;" class="mod-searchBtn ml20"><span>删除</span></a>
        <a href="javascript:;" class="mod-searchBtn ml20"><span>关闭</span></a>
    </div>
</div> -->
    
</div>
</div>
<div style="width: 1200px;height: 70px;margin: 0px auto;text-align: center;line-height: 70px;">
    copyright ©️ 2018 甘肃酒钢集团宏兴钢铁股份有限公司 版权所有
</div>
</div>
</body>
</html>